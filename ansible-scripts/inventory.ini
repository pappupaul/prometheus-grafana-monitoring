[targets]
vm1 ansible_host="{{ lookup('env', 'TARGET_HOST') }}"

[targets:vars]
ansible_user="{{ lookup('env', 'TARGET_USER') }}"
ansible_port=22
ansible_private_key_file="{{ lookup('env', 'SSH_PRIVATE_KEY_FILE', default='') }}"
ansible_password="{{ lookup('env', 'TARGET_PASSWORD', default='') }}"
# If both are provided, SSH key takes precedence
ansible_python_interpreter=/usr/bin/python3.8
# Optional: skip host key prompts (useful for first-time connections)
ansible_ssh_common_args='-o StrictHostKeyChecking=no'